if(!customElements.get("sht-language-switcher")){class a extends SHTCustomComponent{constructor(){super(),this.is_focusout=!1,this.subElms={language_code_field:this.$(".js-language-switcher-language-code-field"),language_btn:this.$(".js-language-switcher-btn"),language_list:this.$(".js-language-switcher-language-list"),language_link_items:this.$$(".js-language-switcher-language-item-link"),language_form:this.$(".js-language-switcher-form")},this.subElms.language_btn.addEventListener("click",e=>{this.is_focusout||this.toggleLanguageSwitcher()}),this.subElms.language_btn.addEventListener("focusout",e=>{this.contains(e.relatedTarget)||(this.is_focusout=!0,this.hideLanguageListPanel(),setTimeout(()=>{this.is_focusout=!1},100))}),this.subElms.language_link_items.forEach(e=>{e.addEventListener("click",this.onLinkItemClickHandler.bind(this))}),this.addEventListener("keyup",this.onKeyUpLanguageSwitcherHandler.bind(this))}hideLanguageListPanel(){this.subElms.language_btn.setAttribute("aria-expanded","false")}toggleLanguageSwitcher(){this.subElms.language_btn.focus(),this.toggleLanguageList()}toggleLanguageList(e){this.subElms.language_btn.setAttribute("aria-expanded",("false"===this.subElms.language_btn.getAttribute("aria-expanded")).toString())}onKeyUpLanguageSwitcherHandler(e){void 0!==e.code&&"ESCAPE"===e.code.toUpperCase()&&(this.subElms.language_btn.focus(),this.toggleLanguageList(!1))}onLinkItemClickHandler(e){e.preventDefault(),this.subElms.language_code_field.value=e.currentTarget.dataset.value;e=this.subElms.language_form.querySelector('[name="return_to"]');e&&(e.value=window.location.pathname),this.subElms.language_form.submit()}}customElements.define("sht-language-switcher",a)}