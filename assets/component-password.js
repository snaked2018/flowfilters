if(!customElements.get("sht-password-modal")){class a extends HTMLElement{constructor(){super(),this.$=this.querySelector.bind(this),this.$$=this.querySelectorAll.bind(this),this.elms={detailsElm:this.$("details"),summaryElm:this.$("summary"),modalElm:this.$(".js-modal")},this.container=this.$(".js-password-modal-container"),this.onBodyClickEventHandle=null,this.bindEventHandlers(),this.elms.summaryElm.setAttribute("role","button"),this.$('input[aria-invalid="true"]')&&this.open({target:this.$("details")})}bindEventHandlers(){this.elms.detailsElm.addEventListener("keyup",t=>"ESCAPE"===t.code.toUpperCase()&&this.close()),this.elms.summaryElm.addEventListener("click",this.onSummaryClickHandle.bind(this)),this.closeBtn=this.$$(".js-modal-btn-close"),this.closeBtn.forEach(t=>{t.addEventListener("click",t=>{this.close()})}),this.addEventListener("click",t=>{t.target.classList.contains("js-password-modal-content")&&this.close()})}isOpen(){return this.elms.detailsElm.hasAttribute("open")}onSummaryClickHandle(t){t.preventDefault(),t.target.closest("details").hasAttribute("open")?this.close():this.open(t)}onBodyClickHandle(t){this.contains(t.target)||this.close()}open(t){this.onBodyClickEventHandle=this.onBodyClickEventHandle||this.onBodyClickHandle.bind(this);let e=t.target.closest("details");t.currentTarget.setAttribute("aria-expanded",!e.open),e.hasAttribute("open")?(e.classList.remove("is-open"),setTimeout(()=>{e.open=!1},100)):(e.open=!0,setTimeout(()=>{e.classList.add("is-open")})),document.body.addEventListener("click",this.onBodyClickEventHandle),document.body.classList.add("o-hidden"),this.container.style.maxHeight=this.container.scrollHeight+"px",setTimeout(()=>{this.$("#mainPasswordInput").focus(),SHTHelper.trapFocus(this.elms.modalElm,this.$("#mainPasswordInput"))},500)}close(){this.container.style.maxHeight="0px",this.elms.summaryElm.focus(),this.elms.detailsElm.hasAttribute("open")&&(this.elms.detailsElm.classList.remove("is-open"),this.elms.summaryElm.setAttribute("aria-expanded",!1),setTimeout(()=>{this.elms.detailsElm.open=!1},500)),document.body.removeEventListener("click",this.onBodyClickEventHandle),document.body.classList.remove("o-hidden"),SHTHelper.removeTrapFocus()}}customElements.define("sht-password-modal",a)}